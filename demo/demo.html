<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>dash.js with qlog demo</title>
    <script src="../dist/dashjs-qlog.js"></script>

    <style>
        video {
            width: 640px;
            height: 360px;
        }
    </style>
</head>

<body>
    <div>
        <video id="video_player" controls="true"></video>
    </div>
    <div>
        <button onclick="player.wipeDatabases()">Full Wipe</button>
        <button onclick="player.stopLogging()">Stop Logging</button>
        <button onclick="player.downloadCurrentLog()">Download Current Logs</button>
        <button onClick="window.location.reload();">Refresh</button>
    </div>

    <div id="debug">

    </div>

    <div>
        <strong>Status:</strong> <span id="test_status">Uninitialised</span>
    </div>
    <div>
        <strong>Autosave:</strong> <span id="autosave">False</span>
    </div>

    <script>
        let video = document.getElementById('video_player');
        const urlSearchParams = new URLSearchParams(window.location.search);
        const videoManifestSource = urlSearchParams.get("video");
        const autosave = false;

        let player = new DashjsQlog.dashjs_qlog_player(video, videoManifestSource, autosave);
        player.init();
    </script>
</body>

</html>